<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>I Finally Coded So Hard I Ralphed</title>
<!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v4.4.1"> <meta property="og:title" content="I Finally Coded So Hard I Ralphed"> <meta name="author" content="Texarkanine"> <meta property="og:locale" content="en_US"> <meta name="description" content="As with almost everything, the more you use it, the more it pays to optimize it. I recently determined that re-usable workflow entry point prompts are the only real use-case for AI Coding Agent Slash Commands."> <meta property="og:description" content="As with almost everything, the more you use it, the more it pays to optimize it. I recently determined that re-usable workflow entry point prompts are the only real use-case for AI Coding Agent Slash Commands."> <link rel="canonical" href="https://blog.cani.ne.jp/2026/01/25/i-finally-coded-so-hard-i-ralphed.html"> <meta property="og:url" content="https://blog.cani.ne.jp/2026/01/25/i-finally-coded-so-hard-i-ralphed.html"> <meta property="og:site_name" content="üê∂ Dog with a Dev Blog"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2026-01-25T00:00:00+00:00"> <meta name="twitter:card" content="summary"> <meta property="twitter:title" content="I Finally Coded So Hard I Ralphed"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Texarkanine"},"dateModified":"2026-01-25T00:00:00+00:00","datePublished":"2026-01-25T00:00:00+00:00","description":"As with almost everything, the more you use it, the more it pays to optimize it. I recently determined that re-usable workflow entry point prompts are the only real use-case for AI Coding Agent Slash Commands.","headline":"I Finally Coded So Hard I Ralphed","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.cani.ne.jp/2026/01/25/i-finally-coded-so-hard-i-ralphed.html"},"url":"https://blog.cani.ne.jp/2026/01/25/i-finally-coded-so-hard-i-ralphed.html"}</script> <!-- End Jekyll SEO tag --> <link type="application/atom+xml" rel="alternate" href="https://blog.cani.ne.jp/feed.xml" title="üê∂ Dog with a Dev Blog">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.css" integrity="sha384-OH8qNTHoMMVNVcKdKewlipV4SErXqccxxlg6HC9Cwjr5oZu2AdBej1TndeCirael" crossorigin="anonymous"> </head> <body a="light"> <main class="page-content" aria-label="Content"> <div class="w"> <p> <a href="/">~</a> / <a href="/all-posts.html">..</a> </p> <header> <h1>I Finally Coded So Hard I Ralphed</h1> <strong>How They Finally Got Me on a Cursor Ultra Subscription</strong> <div style="display: flex; justify-content: space-between; align-items: center;"> <div> <span> a <a href="/categories/diary/">diary</a> </span> <span> by <a href="/authors/texarkanine/">texarkanine</a> </span> </div> <div> <span class="post-meta">2026-01-25</span> </div> </div> </header> <article> <p>As with almost everything, <a href="https://xkcd.com/1205/" target="_blank" rel="noopener">the more you use it, the more it pays to optimize it</a>. I <a href="/2026/01/23/use-case-for-ai-coding-agent-slash-commands.html">recently determined</a> that re-usable workflow entry point prompts are the only real use-case for AI Coding Agent Slash Commands.</p> <p>One particular kind of workflow where you‚Äôll not only be re-using the same prompt, but re-using it more than <em>you</em> the human ever could, is a <a href="https://ghuntley.com/ralph/" target="_blank" rel="noopener">Wiggum Loop</a>. That‚Äôs actually a perfect use-case for a Slash Command!</p> <p>I had been looking for an application for a Wiggum Loop for a while, but I just didn‚Äôt have enough <em>work</em> to feed an AI coding agent in a loop. I had an epiphany while prompting to address <a href="https://www.coderabbit.ai/" target="_blank" rel="noopener">CodeRabbit</a> PR feedback for the second, then third time‚Ä¶</p> <p>CodeRabbit <a href="/garden/how-i-learned-to-stop-worrying-and-love-the-machine.html#coderabbit">is awesome</a> but its reviews can take a good handful of minutes to come out (which I don‚Äôt fault it for; they‚Äôre fabulous)! On top of that the ‚Äúfree for open-source projects‚Äù tier has a rate limit that agentic coding often runs into.</p> <p>So, my high-level workflow will be</p> <figure class="mermaid-diagram"> <a href="/assets/svg/75f41bb3.svg" target="_blank" rel="noopener"><img src="/assets/svg/75f41bb3.svg" alt="Mermaid Diagram" loading="lazy"></a> </figure> <p>But there are actually quite a few more decision points, because when you push a commit you might hit the rate limit warning instead of getting immediate feedback, and then you have to wait out <em>that</em> timer and come back and make a PR comment to get the ball rolling again:</p> <figure class="mermaid-diagram"> <a href="/assets/svg/4b351d0d.svg" target="_blank" rel="noopener"><img src="/assets/svg/4b351d0d.svg" alt="Mermaid Diagram" loading="lazy"></a> </figure> <h2 id="you-didnt-read-that-did-you">You Didn‚Äôt Read That, Did You?</h2> <p>I submit that 2nd diagram not because I expect you to read it, but because I expect you to <em>not</em> read it. It‚Äôs complex, it‚Äôs intricate, who would <em>want</em> to have to try to do that!? But it was necessary!</p> <p>Fortunately, AI Coding Agents are really good at following flowcharts.</p> <p>I had this epiphany embarrassingly-late in my CodeRabbit PR Feedback career: I explained what I had been doing manually, and asked for a Slash Command suitable for handling this kind of PR Feedback in a Wiggum Loop. I‚Äôd invoke the loop with</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">touch </span>wiggum.semaphore<span class="p">;</span> <span class="se">\</span>
<span class="k">while </span><span class="nb">true</span><span class="p">;</span> <span class="k">do</span> <span class="se">\</span>
	cursor agent <span class="se">\</span>
		<span class="nt">--stream-partial-output</span> <span class="se">\</span>
		<span class="nt">--output-format</span> stream-json <span class="se">\</span>
		<span class="nt">--print</span> <span class="se">\</span>
		<span class="nt">--approve-mcps</span> <span class="se">\</span>
		<span class="nt">--force</span> <span class="se">\</span>
		<span class="nt">--model</span> opus-4.5-thinking <span class="se">\</span>
		<span class="s2">"/local/wiggum-niko-coderabbit-pr - and if you cannot find that command, delete wiggum.semaphore and exit immediately."</span> <span class="se">\</span>
		<span class="s2">"github.com/Texarkanine/&lt;repo&gt;/pull/&lt;number&gt;"</span><span class="p">;</span> <span class="se">\</span>
	<span class="o">[</span> <span class="nt">-e</span> wiggum.semaphore <span class="o">]</span> <span class="o">||</span> <span class="nb">break</span><span class="p">;</span> <span class="se">\</span>
	<span class="nb">sleep </span>300<span class="p">;</span> <span class="se">\</span>
<span class="k">done</span>
</code></pre></div></div> <p>(printed here on multiple lines for you to see, but reducible to a single line I can just <code class="language-plaintext highlighter-rouge">alias</code> or paste into a shell)</p> <p>And thus <a href="https://github.com/Texarkanine/.cursor-rules/blob/main/rules/wiggum-niko-coderabbit-pr.md" target="_blank" rel="noopener">/wiggum-niko-coderabbit-pr</a> was born! It was scary firing it off for the first couple of times, and it did take a bit of iteration on itself to get it working right. I watched an hour-long TV show while CodeRabbit &amp; Niko went back-and-forth iteratively improving code!</p> <p>Fun things to note:</p> <h3 id="exit-condition">Exit Condition</h3> <p>Perhaps not in the pure spirit of Wiggum‚Ñ¢, I explicitly defined an exit condition of which the agent is aware - the <code class="language-plaintext highlighter-rouge">wiggum.semaphore</code> file - so that it can guarantee the exit when it‚Äôs done.</p> <h3 id="safety-dance">Safety Dance</h3> <p>The prompt fed into the agent is</p> <blockquote> <p>/local/wiggum-niko-coderabbit-pr - and if you cannot find that command, delete wiggum.semaphore and exit immediately.</p> </blockquote> <p>Turns out that it was really easy to get Command paths wrong and when running headless it‚Äôs hard to notice. Claude is so good that it‚Äôll infer a general process from the command‚Äôs name and be basically correct, but miss things like knowledge of the semaphore - so the loop never ends!</p> <p>While I can‚Äôt seem to find this documented anywhere, the <a href="https://cursor.com/cli" target="_blank" rel="noopener">Cursor CLI</a> doesn‚Äôt seem to take <em>User</em> Commands into account. So even though <a href="https://github.com/texarkanine/ai-rizz" target="_blank" rel="noopener">ai-rizz</a> gained the ability to install Slash Commands <em>and</em> to install anything to the global <code class="language-plaintext highlighter-rouge">~/.cursor/...</code> directories, global installation of <code class="language-plaintext highlighter-rouge">~/.cursor/commands/ai-rizz/wiggum-niko-coderabbit-pr.md</code> didn‚Äôt work - the headless agent couldn‚Äôt see it. It needs to be in the local repo, so prep each repo you want to try this in with:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ai-rizz add rule <span class="nt">--local</span> wiggum-niko-coderabbit-pr
</code></pre></div></div> <p>That probably means it doesn‚Äôt see User Rules, either, so‚Ä¶ use the new <code class="language-plaintext highlighter-rouge">--global</code> mode sparingly?</p> <h2 id="im-helping">I‚ÄôM HELPING</h2> <p>I‚Äôm sure this isn‚Äôt the most-refined or efficient Way to Wiggum‚Ñ¢ but I‚Äôm just happy to (finally) be here!</p> </article> <footer> <p> tagged: <a href="/tags/ai/">ai</a>, <a href="/tags/coderabbit/">coderabbit</a>, <a href="/tags/cursor/">cursor</a>, <a href="/tags/wiggum-loop/">wiggum-loop</a> </p> </footer> <p> <a href="/">~</a> / <a href="/all-posts.html">..</a> </p> </div> </main> <footer> <a href="/assets/img/bip47.png" target="_blank" rel="noopener noreferrer" class="call-me-bip-me-if-you-need-to-reach-me sponsor-link-light" aria-label="Support Me: BIP47 Payment Code"></a> <a href="/assets/img/bip47-dark.png" target="_blank" rel="noopener noreferrer" class="call-me-bip-me-if-you-need-to-reach-me sponsor-link-dark" aria-label="Support Me: BIP47 Payment Code"></a> </footer> </body> </html>
