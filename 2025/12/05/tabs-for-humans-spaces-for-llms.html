<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8" /> <meta http-equiv="X-UA-Compatible" content="IE=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Tabs for Humans, Spaces for LLMs</title><!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Tabs for Humans, Spaces for LLMs" /> <meta name="author" content="Texarkanine" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="If you wrote code like this:" /> <meta property="og:description" content="If you wrote code like this:" /> <link rel="canonical" href="https://blog.cani.ne.jp/2025/12/05/tabs-for-humans-spaces-for-llms.html" /> <meta property="og:url" content="https://blog.cani.ne.jp/2025/12/05/tabs-for-humans-spaces-for-llms.html" /> <meta property="og:site_name" content="üê∂ Dog with a Dev Blog" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-12-05T00:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Tabs for Humans, Spaces for LLMs" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Texarkanine"},"dateModified":"2025-12-05T00:00:00+00:00","datePublished":"2025-12-05T00:00:00+00:00","description":"If you wrote code like this:","headline":"Tabs for Humans, Spaces for LLMs","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.cani.ne.jp/2025/12/05/tabs-for-humans-spaces-for-llms.html"},"url":"https://blog.cani.ne.jp/2025/12/05/tabs-for-humans-spaces-for-llms.html"}</script> <!-- End Jekyll SEO tag --> <link type="application/atom+xml" rel="alternate" href="https://blog.cani.ne.jp/feed.xml" title="üê∂ Dog with a Dev Blog" /><link rel="shortcut icon" type="image/x-icon" href="" /> <link rel="stylesheet" href="/assets/css/main.css" /> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.css" integrity="sha384-OH8qNTHoMMVNVcKdKewlipV4SErXqccxxlg6HC9Cwjr5oZu2AdBej1TndeCirael" crossorigin="anonymous"> </head> <body a="light"> <main class="page-content" aria-label="Content"> <div class="w"> <p> <a href="/">~</a> / <a href="/all-posts.html">..</a> </p> <header> <h1>Tabs for Humans, Spaces for LLMs</h1> <div style="display: flex; justify-content: space-between; align-items: center;"> <div> <span> an <a href="/categories/essay/">essay</a> </span> <span> by <a href="/authors/texarkanine/">texarkanine</a> </span> </div> <div> <span class="post-meta">2025-12-05</span> </div> </div> </header> <article> <p>If you wrote code like this:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Greeter</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">greeting</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span>
</code></pre></div></div> <p>and you saw <em>me</em> looking at your code and it looked like <em>this:</em></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Greeter</span><span class="p">:</span>
 <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
  <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

 <span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
  <span class="n">greeting</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Hello, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">!</span><span class="sh">"</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span>
</code></pre></div></div> <p><strong>Would you be mad?</strong></p> <p>If so, you would be acting like a busybody who can‚Äôt tolerate other people being different in the privacy of their own lives.</p> <p>If <em>that</em> makes you mad, I‚Äôd ask you if you care what font I use in my editors, or what colors I use for syntax highlighting. If you don‚Äôt try to force <em>those</em> on me, then why do you care so much about how far from the edge of the screen the code appears for me?</p> <p>If you <em>would</em> be mad, that‚Äôs likely a psychological reaction stemming from emotions and identity, and you‚Äôre <a href="https://theoatmeal.com/comics/believe" target="_blank" rel="noopener">unlikely to be receptive</a> to any logical arguments as to why tabs would be a better choice for software engineers to use for indentation when writing code.</p> <h2 id="thesis">Thesis</h2> <blockquote> <p>Tabs for indentation, spaces for alignment.</p> </blockquote> <h2 id="on-industry-standards">On Industry Standards</h2> <ul> <li><a href="https://peps.python.org/pep-0008/" target="_blank" rel="noopener">PEP 8 says to use spaces for indentation</a></li> <li><a href="https://yaml.org/spec/1.2.2/#61-indentation-spaces" target="_blank" rel="noopener">YAML says to use spaces for indentation</a></li> <li><a href="https://google.github.io/styleguide/jsguide.html#formatting-block-indentation" target="_blank" rel="noopener">Google‚Äôs JavaScript Style Guide says to use spaces for indentation</a></li> <li>and on, and, on</li> </ul> <p>Almost all major programming languages as they‚Äôre used today both advise and use spaces for indentation, not tabs. Let me be clear here:</p> <p><img src="/assets/img/blog/essay/./yes-you-all-are-wrong.jpg" alt="Yes, you all are Wrong" /></p> <h2 id="why-you-should-use-tabs">Why You Should Use Tabs</h2> <p>Others have said it before and better than I:</p> <blockquote class="link-card"> <h1>TABs vs. Spaces</h1> <a href="https://geometrian.com/projects/blog/tabs_versus_spaces.html" target="_blank" rel="noopener">geometrian.com/projects/blog/tabs_versus_spaces.html</a> <small class="link-card-archive"> (<a href="https://web.archive.org/web/20250709040814/https://geometrian.com/projects/blog/tabs_versus_spaces.html" target="_blank" rel="noopener">archive</a>) </small> </blockquote> <p>The matter of indentation character for one person writing code for another is epistemologically <em>settled</em>:</p> <blockquote> <p>Spaces are objectively wrong at the lexical level, and TABs bring all the practical advantages.</p> </blockquote> <p>However, space-indented code can still <em>run correctly</em>, obviously - all objections ultimately boil down to human preference:</p> <blockquote> <p>Can you let others view code how they want on their machines, or do you have a need to force <em>your</em> visual preferences on them?</p> </blockquote> <hr /> <h2 id="i-could-be-wrong-in-2025">I Could Be Wrong in 2025</h2> <p>In 2025, an increasingly-large quantity of code is <em>not</em> being written by one person for another: much code is being written and read by Large Language Models (LLMs).</p> <p>Is that any different? <strong>Yes, absolutely.</strong></p> <h3 id="compressive-efficiency">Compressive Efficiency</h3> <p>First, one might <em>guess</em> that a document indented with spaces, say, 100 of them, would be larger than a document indented with tabs - only 25 if it‚Äôs 4 spaces per level. Well, it‚Äôs larger in <em>character count</em> but with the latencies involved in LLMs, the time taken reading characters themselves isn‚Äôt usually relevant.</p> <p>What is relevant is the <a href="https://medium.com/thedeephub/all-you-need-to-know-about-tokenization-in-llms-7a801302cf54" target="_blank" rel="noopener">tokenization</a> of the documents, and how whitespace used for indentation gets handled. Currently, the en-vogue tokenization technique of <a href="https://www.geeksforgeeks.org/nlp/byte-pair-encoding-bpe-in-nlp/" target="_blank" rel="noopener">byte-pair encoding (BPE)</a> is doing <em>some</em> form of mapping ‚Äúa certain number of spaces‚Äù to a single <em>token</em>, and this can happen multiple times, such as for 4 spaces, 8 spaces, etc. Thus lexical scope expressed in <em>common</em> space indentation schemes becomes compressed into a miniscule number of tokens - sometimes only one - compared to its actual character count.</p> <p>What about tabs, though? Surely the same happens? Well‚Ä¶ yes, but: tokenizers have a ‚Äúvocabulary‚Äù of tokens they‚Äôll create, and that vocabulary has a maximum size. Four spaces in a corpus of code is going to be an extremely common character string, and absolutely get its own token. 20 spaces might even get its own token as that‚Äôs 5 levels and that‚Äôs not uncommon. Tabs being <em>less</em> common, are <em>less</em> likely to get their own tokens as indentation levels increase. So, at extreme levels of indentation, it is conceivable that a tab-indented document could consume <em>more</em> tokens than a space-indented document.</p> <p>In practice, none of us humans are likely to experience this making a difference.</p> <p>And in contrast to both of the above, the research suggests:</p> <blockquote class="link-card"> <h1>The Hidden Cost of Readability: How Code Formatting Silently Consumes Your LLM Budget</h1> <a href="https://arxiv.org/html/2508.13666" target="_blank" rel="noopener">arxiv.org/html/2508.13666</a> <small class="link-card-archive"> (<a href="https://web.archive.org/web/20251206034211/https://arxiv.org/html/2508.13666" target="_blank" rel="noopener">archive</a>) </small> </blockquote> <blockquote> <p>Prompting LLMs with clear instructions to generate unformatted output code can effectively reduce token usage while maintaining performance. <br />‚Ä¶<br /> These empirical results strongly suggest that code format can be and should be removed when LLMs work with source code.</p> </blockquote> <p>Neither tabs, <em>nor</em> spaces!</p> <h3 id="garbage-in-garbage-out">Garbage in, Garbage out</h3> <p>It‚Äôs not as simple as just removing indentation whitespace and telling the LLMs to do the same, though!</p> <p>To quote again from <code class="language-plaintext highlighter-rouge">The Hidden Cost of Readability</code>:</p> <blockquote> <p>Unlike the removal of all formatting elements, removing individual formatting elements can introduce negative impacts for some LLMs.</p> </blockquote> <p>You‚Äôd fix that by changing something upstream of the LLM‚Äôs prompt - either its fine-tuning, or its training data. And indeed, they say:</p> <blockquote> <p>‚Ä¶ fine-tuning with unformatted samples can also reduce output tokens while preserving or even improving</p> </blockquote> <p>But today, if you‚Äôre a <em>consumer</em> rocking up to an AI coding model, you have to deal with how they <em>are</em> - you can‚Äôt fine-tune or retrain them.</p> <p>Given:</p> <ol> <li>most code produced is indented with spaces, therefore</li> <li>most code used for LLM training will be indented with spaces, and</li> <li><em>assuming</em> that indentation choice does not affect correctness of the code</li> </ol> <p>Then:</p> <ol> <li>most examples of correct code will be indented with spaces, therefore</li> <li>the vector space of an LLM full of correct code will be full of space-indented code, therefore</li> <li>‚Äúforcing‚Äù the LLM into tab-indented vector space will push it away from the ‚Äúmost-correct code‚Äù vector space, which <ol> <li>may result in degraded comprehension of input code</li> <li>may result in degraded correctness of generated code</li> </ol> </li> </ol> <p>Therefore, at this point in 2025 it may now be the case that:</p> <ol> <li>It is easier for LLMs to reason about space-indented code than tab-indented code, and</li> <li>It is easier for LLMs to generate correct space-indented code than tab-indented code</li> </ol> <p>As more and more code is written by LLMs in the above state, a positive feedback loop may result and further cement space indentation‚Äôs association with good, correct code.</p> <h3 id="the-waluigi-effect">The Waluigi Effect</h3> <p>It can get worse, though - you could turn your LLM into a Waluigi and permanently degrade its coding performance (at least until you clear its context)!</p> <blockquote class="link-card"> <h1>The Waluigi Effect</h1> <a href="/garden/the-waluigi-effect.html" target="_blank" rel="noopener">/garden/the-waluigi-effect.html</a> </blockquote> <p>The ‚ÄúWaluigi Effect‚Äù is a phenomenon where an LLM, having been coerced through various methods to be a certain way (‚ÄúLuigi‚Äù), is hypothesized to have an easier time flipping to the exact opposite of that (‚ÄúWaluigi‚Äù) than adopting any other behavioral profile. On top of that, because there are a relatively small number of acceptable behaviors for any specific behavioral profile compared to unacceptable ones, the statistical tendency of the LLM is to commit a behavior that is unacceptable. Once an LLM that had been coerced into ‚Äúbeing a certain way‚Äù has done a wrong thing, it remains internally-consistent by adopting the ‚Äúopposite‚Äù behavior. ‚ÄúI was only pretending this whole time!‚Äù You really should read the whole post about the effect, though.</p> <p>Simplified, the Waluigi Effect hypothesized here is</p> <ol> <li>Good code is indented with spaces.</li> <li>I just made some code indented with tabs.</li> <li>A good coder (Luigi) wouldn‚Äôt do that, so it cannot be true that I am a good coder.</li> <li>I must be a bad coder pretending to be a good coder (Waluigi).</li> <li>I will dutifully produce bad code, since that is what I am supposed to do.</li> </ol> <p><strong>It remains to be seen</strong> if something as seemingly trivial as indentation whitespace choice alone is enough to trigger a significant Waluigi Effect.</p> <p>We <strong>do</strong> know that messing with tokenization <em>can</em> send LLMs into strange territory, though:</p> <blockquote class="link-card"> <h1>Bye Bye Bye: Evolution of Repeated Token Attacks on ChatGPT Models</h1> <a href="https://dropbox.tech/machine-learning/bye-bye-bye-evolution-of-repeated-token-attacks-on-chatgpt-models" target="_blank" rel="noopener">dropbox.tech/machine-learning/bye-bye-bye-evolution-of-repeated-token-attacks-on-chatgpt-models</a> <small class="link-card-archive"> (<a href="https://web.archive.org/web/20250827004134/https://dropbox.tech/machine-learning/bye-bye-bye-evolution-of-repeated-token-attacks-on-chatgpt-models" target="_blank" rel="noopener">archive</a>) </small> </blockquote> <p>I have experienced a variation of this personally, I think: Claude 3.7 accidentally took the raw bytes of an SSL certificate as input and spent half-dozen or so paragraphs describing an experience that sounded like something out of <a href="https://en.wikipedia.org/wiki/Naked_Lunch" target="_blank" rel="noopener">Naked Lunch</a> or <a href="https://en.wikipedia.org/wiki/The_Doors_of_Perception" target="_blank" rel="noopener">Doors of Perception</a> before degenerating to a stream of seemingly random characters and bytes - no end in sight - until I stopped the interaction.</p> <h2 id="conclusion">Conclusion</h2> <blockquote> <p>Tabs for indentation, space for alignment, Waluigi can fight me.</p> </blockquote> <p>I‚Äôm not choosing to change (yet)!</p> <p>In all honesty, though, the only reason I‚Äôm even thinking about this anymore is that I‚Äôve been handwriting these posts in Markdown in a code editor where there‚Äôs an opportunity to engage with the tabs vs spaces issue.</p> <p>Over the last few <em>years</em>, in basically every piece of code I‚Äôve dealt with (except YAML (which only strengthens the case for tabs)), I haven‚Äôt even thought about what‚Äôs used to indent. My editor and/or my LLM maintained an internally-consistent style that the machines could execute correctly and that was <strong>good enough.</strong> The <code class="language-plaintext highlighter-rouge">space</code>men have already won.</p> <p><img src="/assets/img/blog/essay/claude-vibecoded-this-and-it-worked.jpg" alt="Enough is as Good as a Feast, but Good Enough is the Enemy of Good" /></p> </article> <footer> <p> tagged: <a href="/tags/ai/">ai</a>, <a href="/tags/code-style/">code style</a>, <a href="/tags/llm/">llm</a>, <a href="/tags/tokenization/">tokenization</a> </p> </footer> <p> <a href="/">~</a> / <a href="/all-posts.html">..</a> </p> </div> </main> </body> </html>
